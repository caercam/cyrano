.wp-block-cinemarathons-marathon {
  @apply -mx-8 md:mx-0;

  .marathon-content {
    @apply relative pl-12 md:pl-20;

    &::before {
      @apply content-[''] absolute bottom-10 top-12 left-6 w-0.5 bg-cyrano-gray -ml-px;
    }

    .marker {
      @apply relative flex items-center text-center py-1 -ml-12 md:-ml-20;

      a {
        @apply relative h-6 flex items-center justify-center bg-cyrano-blue hover:bg-cyrano-orange text-xxs font-semibold uppercase px-4;
        @apply text-white !important;

        &::before {
          @apply hidden
        }

        &::after {
          @apply content-[''] absolute -bottom-4 left-4 border-[.5rem] border-transparent border-t-cyrano-blue transition-all duration-300;
        }

        &:hover {
          &::after {
            @apply border-t-cyrano-orange transition-all duration-300 delay-150;
          }
        }
      }
    }

    h2 + p,
    h3 + p,
    h4 + p {
      @apply text-sm -mt-6;
    }

    & > h1,
    & > h2,
    & > h3,
    & > h4 {
      @apply relative;

      &::before {
        @apply md:content-[''] absolute -left-12 top-4 w-7 h-0.5 bg-cyrano-gray;
      }

      &::after {
        @apply md:content-[''] absolute -left-[calc(3.75rem+1px)] top-3 w-2.5 h-2.5 bg-white border-2 border-cyrano-gray ring ring-white rounded-full;
      }
    }

    .details {
      @apply bg-cyrano-light/[.75] text-sm p-8 my-4 md:-ml-4;

      h1, h2, h3, h4, p {
        @apply mb-2 mt-4 !important;

        &:first-child {
          @apply mt-0 !important;
        }
      }

      ul {
        @apply pl-0 ml-0 mb-0 !important;

        li {
          @apply list-disc flex items-center gap-1;

          .item-availability {
            svg {
              @apply w-5 h-5
            }

            &::before {
              @apply hidden
            }
          }
        }
      }
    }

    .items {

      ul {
        @apply relative bg-cyrano-light text-cyrano-dark py-4 my-8 -ml-12 md:-ml-20;

        &::before {
          @apply content-[''] absolute inset-y-0 w-0.5 bg-cyrano-blue -ml-px;
        }

        &::after {
          @apply content-[''] absolute inset-y-[calc(1.75rem+3px)] md:w-8 border-l-2 md:border-2 border-cyrano-blue  border-l-cyrano-blue md:border-l-cyrano-light rounded-r-lg -ml-px;
        }

        li {
          @apply relative h-8 list-none flex items-center gap-4 md:gap-8 ml-8 md:ml-[calc(4.5rem-2px)];

          &::before {
            @apply content-[''] absolute -left-6 md:-left-8 top-4 w-4 h-0.5 bg-cyrano-blue -mt-px
          }

          &::after {
            @apply content-[''] absolute -left-[calc(2.25rem+1px)] md:-left-[calc(2.75rem+1px)] top-[calc(.625rem+1px)] w-2.5 h-2.5 bg-cyrano-light border-2 border-cyrano-blue ring ring-cyrano-light rounded-full z-10;
          }

          a {
            @apply flex gap-x-1 text-cyrano-navy hover:text-cyrano-blue delay-0 !important;

            &::before {
              @apply hidden
            }

            svg {
              @apply w-3.5 h-3.5 fill-cyrano-navy transition-all duration-300;
            }

            &:hover {
              svg {
                @apply fill-cyrano-blue transition-all duration-200;
              }
            }
          }

          .item-status,
          .item-availability {
            @apply relative;
    
            &::after {
              @apply content-[''] md:absolute -right-5 top-1/2 w-2 h-px bg-cyrano-blue;
            }
          }
        }
      }
    }

    .item-title {
      @apply h-full flex items-center text-base leading-4 truncate overflow-x-auto overflow-y-visible;
    }

    .item-availability,
    .item-status {
      svg {
        @apply w-5 h-5;
      }
    }

    .item-status {
      &.not-watched {
        svg {
          @apply fill-cyrano-red;
        }
      }

      &.is-rewatch {
        svg {
          @apply fill-cyrano-yellow;
        }
      }

      &.has-been-watched {
        svg {
          @apply fill-cyrano-green;
        }
      }
    }

    .item-availability {
      &.is-available {
        svg {
          @apply fill-cyrano-green;
        }
      }

      &.not-available {
        svg {
          @apply fill-cyrano-red;
        }
      }
    }
  }
}
